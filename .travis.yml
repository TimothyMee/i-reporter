language: node_js
node_js:
- stable
script:
- npm run lint
- npm run test

addons:
    code_climate:
        repo_token: jtsKnW+cy9gQlOmlHe/iuDclycXITy/lsJIBgVIql+WN0LP3ULm7hiwgQKIKQwMba18U88WlhJAy60GvYysht9BrGbv5i5h0lwxrOyv69IIszo6tsVkVoi762eeKvfk4GaL7W0Uy14Az1qzIMFHFnsTfghimID+CzZIkQVxdA1xFEkGrJ38cS4HMgZTwL8f+D6iLYRtCTCbDZiXMS9Kxw3NzQ7dq/aLyhRwrfWGYCjyE3C2YlD7pY3NspUnCgXJ8YkCjZWHqTEnxo9Aj6Ps4y4SNNNH54JgCZf26Nzjggr4je1l8ru583xewdcTYh/UOpp7gUwQ5ZPPz46HGcrdyBtzOMv8DPyYHXCLUHcl96RVavV71/jzUV58dxwCBxFaXTigz2yjV37DOwkh9+5f+yt9uqVpm3msvMuchg9xUkZgK/byq65wklqvhE8cePNGPAtT+PxVvws8L5fYATPr87NP49GtO4ffG7rHmqhQLIx1tauaMBJnhPm2mnOfu8sDJX5RMQ8GHON5ueic/3ZVQ6zEjKds5Yh8aH6HfvsZb9cly6Xv0OMsfnZZUq1boNQFpSY9iy1mjOBcTHgQPeAsoJwUQmaaurtRpPIL17lBQa36jhNVyMuNU8WhHh5rLtKklfSYa3O5KGdv+cTPzRzkNZpZslf36i1FHOMHdIgxqClA=
script: istanbul cover node_modules/mocha/bin/_mocha Test/**/*.test.js --exit
before_script:
  - npm install codeclimate-test-reporter istanbul -g
after_script:
  - codeclimate-test-reporter < ./coverage/lcov.info

deploy:
  provider: heroku
  api_key:
    secure: ZSQj46Kmn+H7QzkzXCRC0UhL71G+5u/ggFLfoe0MwiIJ5Z2TlqjPG/tPLdJw6QwI3IwoKt5KyHutei1tuFSwogwWwuHGliiFN4iDmfBsUK1Xv+q5yriOVyZLdSPNs4UHb0fPNGwSZN3eESLiCui+tGMapxppJuXDjAHjJNCRiBr9cumcI6Z2ra8pLXZsi24sIhAO4J9N+HoIoloxPQGk+Ix+X6ezD9mJHKaDli267O8bde/lDt1Pg43LvhL85/rp0dgxjIkOpf4RHB+GwwcaeiljWgeVoLPy0BmyWnJ8160/qmVugmuHR3ABKbZvyqmDL3T9D0QGIRRDzOxZVGh2L5dAQe8wOXKl68BWs6HLBz9aX8i7NEw3IHdnsowWg69X5BEkTxqL1+zNWnqRRTnRpKV4vueR/k81wHPDd7O5B6KBmw1lAdHW7rtybhI8WzdVF4MTy1g1llPGfvBH01udh9F0j9lWXH3JXpqGJxmen3JzYWXn1X1Wap4jZc7TMkO4zjxoy9Br0heFV/fgwHAF7AgNr2Waq+9SDnTwFVtAzTvHbJfb39q/YJvl8Nr/SpfRlqg7WRp852K54XdrVgrUy9SjsW3JfW8e5ldvvu/ryWJTET+wrjT42QGPkffelzVL7g0cTLGHW1T+EKkPeBKuyrwNCEuZzhtYcrVO9oE39eI=
  app: timothy-i-reporter
  on:
    repo: TimothyMee/i-reporter